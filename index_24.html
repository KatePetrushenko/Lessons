<!DOCTYPE>
<html lang="en">

<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>JAVASCRIPT</title>
</head>

<body>
	<script>
		// Задача используя mathjs считать формулы. Улучшить код, то есть переписать на классы. 
		// И написать кастомную ошибку если не верные параметры переданы выбросить ее.
		// Есть код!

		// function evaluate(params) {
		// 	const param1 = params[0];
		// 	const param2 = params[1];
		// 	const param3 = params[2];

		// 	if(param1 == 'H' && param2 === 'W') math.evaluate(f1, {H: param1, W: param2})

		// 	else if(param1 == 'T' && param2 === 'W') math.evaluate(f2, {T: param1, W: param2})

		// 	else if(param1 == 'D' && param2 === 'W') math.evaluate(f3, {D: param1, W: param2})

		// 	else if(param1 == 'D' && param2 === 'W' && param3 === 'T' ) math.evaluate(f4, {D: param1, W: param2, T: param3})
		// }

		const parameters = new Map();

		parameters.set('D', 10).set('W', 20).set('H', 23).set('T', 54);

		const f1 = 'H+W';
		const f2 = 'T+W';
		const f3 = 'D*W';
		const f4 = 'D*W*T';

		class paramHW {
			static math(params){
				let [H, W] = params;
				H = parameters.get("H");
				W = parameters.get("W");
				return eval(f1);
			}
			static evaluate(params) {
				const [H, W] = params;
				return H == 'H' && W == 'W';
			}
		}

		class paramTW {
			static math(params){
				let [T, W] = params;
				T = parameters.get("T");
				W = parameters.get("W");
				return eval(f2);
			}
			static evaluate(params) {
				const [T, W] = params;
				return T == 'T' && W == 'W';
			}
		}

		class paramDW {
			static math(params){
				let [D, W] = params;
				D = parameters.get("D");
				W = parameters.get("W");
				return eval(f3);
			}
			static evaluate(params) {
				const [D, W] = params;
				return D == 'D' && W == 'W'  && params.length === 2;
			}
		}

		class paramDWT {
			static math(params){
				let [D, W, T] = params;
				D = parameters.get("D");
				W = parameters.get("W");
				T = parameters.get("T");
				return eval(f4);
			}
			static evaluate(params) {
				const [D, W, T] = params;
				return D == 'D' && W == 'W' && T == 'T';
			}
		}

		function result(...params) {
			const arr = [paramHW, paramTW, paramDW, paramDWT];
			const findClass = arr.find(a => a.evaluate(params));
			return findClass.math(params);
		}

		console.log(result("H", "W"));
		console.log(result("T", "W"));
		console.log(result("D", "W"));
		console.log(result("D", "W", "T"));

	</script>
</body>

</html>