<html>

<head>
    <title>JAVASCRIPT</title>
</head>

<body>
    <script>
        // ЗАДАНИЯ ДЛЯ РАЗМИНКИ!!!!!!)))

        //1) Создать класс Building принимающий  параметр manufacturer,  и 2-х его наследников Restaurant, Hotel где эти 2 класса принимают еще один парамет Number of staff. 
        // нужно подсчитать среднее арифметическое всех сотрудников

        class Building {
            constructor(manufacturer) {
                this.manufacturer = manufacturer;
            };
        }
        class Restaurant extends Building {
            constructor(manufacturer, numOfStaff){
                super(manufacturer);
                this.numOfStaff = numOfStaff;
            }
        }
        class Hotel extends Building {
            constructor(manufacturer, numOfStaff){
                super(manufacturer);
                this.numOfStaff = numOfStaff;
            }
        }
        const result1 = new Restaurant('Building', 50);
        const result2 = new Hotel('Building', 200);

        function averageNumOfStaff(arr) {
            return arr.reduce((a, b) => a + b.numOfStaff, 0)/arr.length;
        }

        console.log(averageNumOfStaff([result1, result2]));
        
        
        //2) Создать класс Builder со свойствами name, salary, workingHoursPerDay,и реализовать 2 класса со статическими 
        // функциями, первый класс имеет функцию которая сортирует по salary и принимает массив из строителей, а второй находит сотрудника у которого самое большое workingHoursPerDay

        class Builder {
            constructor(name, salary, workingHoursPerDay) {
                this.name = name;
                this.salary = salary;
                this.workingHoursPerDay = workingHoursPerDay;
            }
        }
        class SortSalary extends Builder {
            constructor(name, salary, workingHoursPerDay) {
                super(name, salary, workingHoursPerDay);
            }
            static getSortSalary(builders) {
                return builders.sort((a, b) => {
                    return a.salary - b.salary;
                });
            }
        }

        class MostHours extends Builder {
            constructor(name, salary, workingHoursPerDay) {
                super(name, salary, workingHoursPerDay);
            }
            static getMostHours(arr) {
                return arr.reduce((prev, curr) => {
                    return (prev.workingHoursPerDay > curr.workingHoursPerDay) ? prev : curr
                });
            }
        }


        const builder1 = new SortSalary('Petia', 18000, 8);
        const builder2 = new SortSalary('Vasia', 15000, 7);
        const builder3 = new SortSalary('Vova', 20000, 10);

        console.log(SortSalary.getSortSalary([builder1, builder2, builder3]));

        const buildersHours1 = new MostHours('Petia', 18000, 8);
        const buildersHours2 = new MostHours('Vasia', 15000, 7);
        const buildersHours3 = new MostHours('Vova', 20000, 10);

        console.log(MostHours.getMostHours([buildersHours1, buildersHours2, buildersHours3]));

    

        //3) Есть класс App! Который принимает массив с обьектов со свойствами name, country и нужно вернуть обьект с ключами которые являются значениями свойства country где будет массивы с name!
        // как на уроке одним словом то есть так
        //  
        const res = {
            'Ukraine':  ['VAsia', 'Petia', 'Boria'],
            'USA': ['John', 'Ben']
        }
        const users = [
            { name: 'VAsia', country: 'Ukraine'},
            { name: 'Petia', country: 'Ukraine'},
            { name: 'Boria', country: 'Ukraine'},
            { name: 'Ben', country: 'USA'},
            { name: 'John', country: 'USA'},
        ]
        class App {
            constructor(users) {
                this.users = users;
            };
            static myRes(users) {
                let obj = {};
                let countries = users.forEach(elem => {
                    if ( !obj[elem.country] ) {
                        obj[elem.country] = [];
                    }
                    obj[elem.country].push(elem.name);
                });
                return obj;
            }
        }

        const answer = new App(users);

        console.log(App.myRes(users));


    </script>
</body>

</html>